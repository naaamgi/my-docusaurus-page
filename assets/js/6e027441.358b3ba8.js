"use strict";(self.webpackChunkmy_docusaurus_website=self.webpackChunkmy_docusaurus_website||[]).push([[2710],{28453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>a});var i=r(96540);const c={},s=i.createContext(c);function t(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:t(e.components),i.createElement(s.Provider,{value:n},e.children)}},42810:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"cheatsheet/services/kerberos","title":"Kerberos - 88","description":"\uae30\ubcf8 \uc815\ubcf4","source":"@site/docs/cheatsheet/services/kerberos.md","sourceDirName":"cheatsheet/services","slug":"/cheatsheet/services/kerberos","permalink":"/my-docusaurus-page/cheatsheet/services/kerberos","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"SSH - 22","permalink":"/my-docusaurus-page/cheatsheet/services/ssh"},"next":{"title":"NetBIOS - 137/138/139","permalink":"/my-docusaurus-page/cheatsheet/services/netbios"}}');var c=r(74848),s=r(28453);const t={sidebar_position:3},a="Kerberos - 88",o={},l=[{value:"\uae30\ubcf8 \uc815\ubcf4",id:"\uae30\ubcf8-\uc815\ubcf4",level:2},{value:"\uc124\uce58",id:"\uc124\uce58",level:2},{value:"\ud2f0\ucf13 \ucc98\ub9ac (Ticket Handling)",id:"\ud2f0\ucf13-\ucc98\ub9ac-ticket-handling",level:2},{value:"Kerberos \uad00\ub828 \ud30c\uc77c \ubc0f \uba85\ub839\uc5b4",id:"kerberos-\uad00\ub828-\ud30c\uc77c-\ubc0f-\uba85\ub839\uc5b4",level:2},{value:"\ud2f0\ucf13 \ubcc0\ud658 (Ticket Conversion)",id:"\ud2f0\ucf13-\ubcc0\ud658-ticket-conversion",level:2},{value:"kirbi to ccache",id:"kirbi-to-ccache",level:3},{value:"ccache to kirbi",id:"ccache-to-kirbi",level:3},{value:"\ucc38\uace0",id:"\ucc38\uace0",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"kerberos---88",children:"Kerberos - 88"})}),"\n",(0,c.jsx)(n.h2,{id:"\uae30\ubcf8-\uc815\ubcf4",children:"\uae30\ubcf8 \uc815\ubcf4"}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"\ud3ec\ud2b8"}),": 88"]}),"\n",(0,c.jsx)(n.p,{children:"Kerberos\ub294 \ub124\ud2b8\uc6cc\ud06c \uc778\uc99d \ud504\ub85c\ud1a0\ucf5c\ub85c, Active Directory \ud658\uacbd\uc5d0\uc11c \uc8fc\ub85c \uc0ac\uc6a9\ub429\ub2c8\ub2e4."}),"\n",(0,c.jsx)(n.h2,{id:"\uc124\uce58",children:"\uc124\uce58"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"sudo apt-get install krb5-kdc\n"})}),"\n",(0,c.jsx)(n.h2,{id:"\ud2f0\ucf13-\ucc98\ub9ac-ticket-handling",children:"\ud2f0\ucf13 \ucc98\ub9ac (Ticket Handling)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"# TGT(Ticket Granting Ticket) \ud68d\ub4dd\nimpacket-getTGT <DOMAIN>/<USERNAME>:'<PASSWORD>'\n\n# \ud2f0\ucf13 \ud658\uacbd \ubcc0\uc218 \uc124\uc815\nexport KRB5CCNAME=<FILE>.ccache\nexport KRB5CCNAME='realpath <FILE>.ccache'\n\n# \ud2b9\uc815 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc5d0 \ud2f0\ucf13 \uc801\uc6a9\nKRB5CCNAME=<FILE>.ccache <APPLICATION>\n"})}),"\n",(0,c.jsx)(n.h2,{id:"kerberos-\uad00\ub828-\ud30c\uc77c-\ubc0f-\uba85\ub839\uc5b4",children:"Kerberos \uad00\ub828 \ud30c\uc77c \ubc0f \uba85\ub839\uc5b4"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"# Kerberos \uc124\uc815 \ud30c\uc77c\n/etc/krb5.conf\n\n# \ud2f0\ucf13 \uc694\uccad \uc0dd\uc131\nkinit <USERNAME>\n\n# \uc0ac\uc6a9 \uac00\ub2a5\ud55c Kerberos \ud2f0\ucf13 \ud655\uc778\nklist\n\n# \uce90\uc2dc\ub41c Kerberos \ud2f0\ucf13 \uc0ad\uc81c\nkdestroy\n\n# Kerberos principals \ud30c\uc77c (\ud648 \ub514\ub809\ud1a0\ub9ac\uc5d0 \uc704\uce58)\n.k5login\n\n# Key table \ud30c\uc77c\nkrb5.keytab\n\n# Kerberos \uad00\ub9ac \ucf58\uc194\nkadmin\n\n# keytab \ud30c\uc77c\uc5d0 \uc0c8 \uc0ac\uc6a9\uc790 \ucd94\uac00\nadd_principal <EMAIL>\n\n# Kerberos \uc778\uc99d\uc73c\ub85c \uba85\ub839 \uc2e4\ud589\nksu\n\n# keytab \ud30c\uc77c \ubaa9\ub85d \ud655\uc778\nklist -k /etc/krb5.keytab\n\n# keytab \ud30c\uc77c \ud3b8\uc9d1 \ud65c\uc131\ud654\nkadmin -p kadmin/<EMAIL> -k -t /etc/krb5.keytab\n"})}),"\n",(0,c.jsx)(n.h2,{id:"\ud2f0\ucf13-\ubcc0\ud658-ticket-conversion",children:"\ud2f0\ucf13 \ubcc0\ud658 (Ticket Conversion)"}),"\n",(0,c.jsx)(n.h3,{id:"kirbi-to-ccache",children:"kirbi to ccache"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"# Base64 \ub514\ucf54\ub529\nbase64 -d <USERNAME>.kirbi.b64 > <USERNAME>.kirbi\n\n# kirbi\ub97c ccache\ub85c \ubcc0\ud658\nimpacket-ticketConverter <USERNAME>.kirbi <USERNAME>.ccache\n\n# \ud658\uacbd \ubcc0\uc218 \uc124\uc815\nexport KRB5CCNAME=`realpath <USERNAME>.ccache`\n"})}),"\n",(0,c.jsx)(n.h3,{id:"ccache-to-kirbi",children:"ccache to kirbi"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"# ccache\ub97c kirbi\ub85c \ubcc0\ud658\nimpacket-ticketConverter <USERNAME>.ccache <USERNAME>.kirbi\n\n# Base64 \uc778\ucf54\ub529\nbase64 -w0 <USERNAME>.kirbi > <USERNAME>.kirbi.base64\n"})}),"\n",(0,c.jsx)(n.h2,{id:"\ucc38\uace0",children:"\ucc38\uace0"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"TGT (Ticket Granting Ticket): \ucd08\uae30 \uc778\uc99d \ud2f0\ucf13"}),"\n",(0,c.jsx)(n.li,{children:"TGS (Ticket Granting Service): \uc11c\ube44\uc2a4 \uc811\uadfc \ud2f0\ucf13"}),"\n",(0,c.jsx)(n.li,{children:"ccache: Linux/Unix Kerberos \ud2f0\ucf13 \uce90\uc2dc \ud615\uc2dd"}),"\n",(0,c.jsx)(n.li,{children:"kirbi: Windows Kerberos \ud2f0\ucf13 \ud615\uc2dd"}),"\n",(0,c.jsx)(n.li,{children:"Kerberoasting, AS-REP Roasting \ub4f1\uc758 \uacf5\uaca9\uc740 Active Directory \uc139\uc158 \ucc38\uace0"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(d,{...e})}):d(e)}}}]);